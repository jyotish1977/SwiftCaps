<LayerHost Id="lhPersona">
    <div @onclick="ProfileClick" id="profileContainer">
        <BlazorFluentUI.Persona Text="@UserName"
                                HidePersonaDetails="true"
                                InitialsColor=@PersonaInitialsColor.Magenta
                                Size=@PersonaSize.Size32
                                ShowInitialsUntilImageLoads="true" CoinSize="32" />
    </div>
    <Panel IsOpen=@isProfilePanelOpen
           OnDismiss=@PanelDismiss
           Type=@PanelType.SmallFixedFar
           IsLightDismiss="false"
           Style="top:3.3em;color:#000;">
        <Text Variant="@TextType.XLargePlus">My Account</Text>
        <Stack Horizontal="true" Style="margin-top:2em;width:100%">
            <BlazorFluentUI.Persona Text="@UserName"
                                    HidePersonaDetails="true"
                                    InitialsColor=PersonaInitialsColor.Magenta
                                    Size=@PersonaSize.Size56
                                    ShowInitialsUntilImageLoads="true" />
            <StackItem Style="margin-left:1em">
                <div>
                    <div>
                        <Text Variant="@TextType.XLarge">@UserName</Text>
                    </div>
                    <div>
                        <Text Variant="@TextType.SmallPlus">@Email</Text>
                    </div>
                    <div>
                        <a href="javascript:void(0)" class="ms-fontWeight-bold ms-fontColor-themeDarker" @onclick="OnSignout" style="text-decoration: none">
                            Sign out
                        </a>
                    </div>
                </div>
            </StackItem>

        </Stack>
    </Panel>
</LayerHost>
@code{
    bool isProfilePanelOpen = false;

    [Parameter]
    public string UserName { get; set; }
    [Parameter]
    public string Email { get; set; }
    [Parameter]
    public EventCallback<MouseEventArgs> OnSignout { get; set; }

    void ProfileClick()
    {
        isProfilePanelOpen = true;
    }

    void PanelDismiss()
    {
        isProfilePanelOpen = false;
    }
}
